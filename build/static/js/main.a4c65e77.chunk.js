(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{31:function(e,t,n){e.exports=n(60)},36:function(e,t,n){},37:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(12),u=n.n(c),o=(n(36),n(7)),i=(n(37),n(5)),l=n(2),s=n(1),f=n.n(s),p=n(3),d=n(9),m=n.n(d),v=function(){var e=Object(p.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("queryRoom",t),e.next=3,m.a.post("/room",{date:t});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(p.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.post("".concat("/room","/update-room-meeting"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(e){return{type:"SET_ROOM",payload:e}},O=function(e){return function(){var t=Object(p.a)(f.a.mark((function t(n){var r,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v(e);case 3:r=t.sent,(a=r.data)&&n(E(a)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log("ERROR FROM  QUERY ROOM",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return{type:"UPDATE_ROOM_TIME",payload:e}},R=function(e){return function(){var t=Object(p.a)(f.a.mark((function t(n){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b(e);case 3:r=t.sent,r.data.value&&n(h(e)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("ERROR FROM  updateRoomMeetingHandler ROOM",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},j=function(){var e=Object(p.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.post("/login",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(p.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.post("".concat("/user","/remove"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(p.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.post("".concat("/user","/insert"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(e){return{type:"SET_USER",payload:e}},S=function(e){return{type:"ADD_NEW_USER",payload:e}},k=function(e){var t=e.time,n=e.userInfo,r=e.id,c=Object(l.b)();return a.a.createElement("div",{className:"flex space-between"},a.a.createElement("div",null,t.fromStart," - ",t.toEnd),t.occupiedBy?a.a.createElement(a.a.Fragment,null,t.occupiedBy===n.name?a.a.createElement("button",{onClick:function(){var e=Object(i.a)({},t,{isAvialable:!0,occupiedBy:"",id:r});c(R(e))}},"Cancel"):a.a.createElement("span",null,"Occupied By ",t.occupiedBy)):a.a.createElement("button",{disabled:!n._id,onClick:function(){var e=Object(i.a)({},t,{isAvialable:!1,occupiedBy:n.name,id:r});c(R(e))}},"Invite"))},x=n(28),_=n.n(x),C=function(e){var t=e.room,n=e.userInfo;return a.a.createElement("div",null,t?t.times.map((function(e){return a.a.createElement(k,{id:t._id,userInfo:n,time:e,key:_()()})})):null)},I=function(){var e=Object(l.c)((function(e){return e.roomReducer.room})),t=Object(l.c)((function(e){return e.userReducer.userInfo})),n=Object(l.b)();return Object(r.useEffect)((function(){n(O(function(e){var t=e,n=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0"),a=t.getFullYear();return t=a+"-"+r+"-"+n}(new Date)))}),[n]),a.a.createElement(a.a.Fragment,null,e&&e._id?a.a.createElement("div",null,a.a.createElement(C,{room:e,userInfo:t})):null)},U=n(11),D=function(){var e=Object(r.useState)({name:""}),t=Object(o.a)(e,2),n=t[0],c=t[1],u=Object(l.c)((function(e){return e.userReducer.userInfo})),s=Object(l.b)(),d=function(e){var t;e.preventDefault(),s((t=n,function(){var e=Object(p.a)(f.a.mark((function e(n){var r,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j(t);case 3:r=e.sent,(a=r.data)&&n(w(a)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("ERROR UPDATE ACTIVAVTE USER",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())),c({name:""})};return a.a.createElement("div",null,a.a.createElement("form",{onSubmit:function(e){return d(e)}},a.a.createElement("input",{value:n.name,onChange:function(e){return t=e.target.value,n="name",void c((function(e){return Object(i.a)({},e,Object(U.a)({},n,t))}));var t,n}}),u._id?null:a.a.createElement("button",{disabled:!n.name.length,type:"submit"},"Login")),u&&u._id?a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){s({type:"CLEAR_USER"}),c({name:""})}},"Logout"),a.a.createElement("button",{onClick:function(){var e;s((e=u,function(){var t=Object(p.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g(e);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log("ERROR OCCURED IN removeUser FUNCTION");case 8:n({type:"CLEAR_USER",payload:null});case 9:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}())),c({name:""})}},"Remove User")):null)},M=function(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),n=t[0],c=t[1],u=Object(r.useState)({name:""}),s=Object(o.a)(u,2),d=s[0],m=s[1],v=Object(l.b)();return a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){return c(!0)}},"Click to add user"),n?a.a.createElement("div",null,a.a.createElement("input",{value:d.name,onChange:function(e){return t=e.target.value,n="name",void m((function(e){return Object(i.a)({},e,Object(U.a)({},n,t))}));var t,n}}),a.a.createElement("button",{onClick:function(){var e;v((e=d,function(){var t=Object(p.a)(f.a.mark((function t(n){var r,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y(e);case 3:r=t.sent,(a=r.data)&&n(S(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("ERROR OCCURED IN insertUserHandler FUNCTION");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()))}},"Add")):null)};var T=function(){var e=Object(l.c)((function(e){return e.userReducer.userInfo})),t=Object(r.useState)(),n=Object(o.a)(t,2),c=n[0],u=n[1],i=Object(r.useState)(),s=Object(o.a)(i,2),f=s[0],p=s[1],d=Object(l.b)();return Object(r.useEffect)((function(){var e=new Date,t=e.getMonth()-1;t<0&&(t+=12,e.setYear(e.getYear()-1)),e.setMonth(t);var n=function(e){var t=e,n=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0"),a=t.getFullYear();return t=a+"-"+r+"-"+n}(new Date(e));u(n)}),[]),a.a.createElement("div",null,a.a.createElement("input",{min:c,type:"date",onChange:function(e){return function(e){p(e)}(e.target.value)}}),a.a.createElement("button",{onClick:function(){d(O(f))},disabled:!f},"Search"),a.a.createElement(D,null),e&&e._id?null:a.a.createElement(M,null),a.a.createElement(I,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var A=n(29),N=n(8),B=n(30),F=n.n(B),L={room:{}},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ROOM":return Object(i.a)({},e,{room:t.payload});case"UPDATE_ROOM_TIME":var n=F()(e.room),r=n.times.findIndex((function(e){return e.fromStart===t.payload.fromStart&&e.toEnd===t.payload.toEnd}));return n.times[r]=t.payload,Object(i.a)({},e,{room:n});default:return e}},P={userInfo:{}},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":case"ADD_NEW_USER":return Object(i.a)({},e,{userInfo:t.payload});case"CLEAR_USER":return P;default:return e}},V=Object(N.c)({roomReducer:Y,userReducer:W}),H=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||N.d,J=Object(N.e)(V,H(Object(N.a)(A.a)));u.a.render(a.a.createElement(l.a,{store:J},a.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[31,1,2]]]);
//# sourceMappingURL=main.a4c65e77.chunk.js.map